CREATE DATABASE AMAZON_SALES;
USE AMAZON_SALES;

CREATE TABLE POSTAL_CODE (
	SHIP_POSTAL_CODE INT PRIMARY KEY,
    SHIP_CITY VARCHAR (100),
    SHIP_STATE VARCHAR(100),
    SHIP_COUNTRY VARCHAR(2)
);

CREATE TABLE ORDERS (
	ORDER_ID VARCHAR(100) PRIMARY KEY,
    DATE DATE,
    STATUS VARCHAR(100), 
    FULFILMENT VARCHAR(100),
    SHIP_SERVICE_LEVEL VARCHAR(100),
    SHIP_POSTAL_CODE INT,
    PROMOTION_APPLIED VARCHAR(10),
    ORDER_TYPE VARCHAR(5),
    FOREIGN KEY (SHIP_POSTAL_CODE) REFERENCES POSTAL_CODE(SHIP_POSTAL_CODE)
);

CREATE TABLE PRODUCTS (
	SKU VARCHAR(100) PRIMARY KEY,
    STYLE VARCHAR(50),
    CATEGORY VARCHAR(100),
    SIZE VARCHAR(50),
    ASIN VARCHAR(100)
);

CREATE TABLE ORDER_ITEMS (
	ORDER_ID VARCHAR(100) ,
    SKU VARCHAR(100),
    QTY INT,
    AMOUNT DECIMAL(5, 2),
    COURIER_STATUS VARCHAR(50),
    FOREIGN KEY (ORDER_ID) REFERENCES ORDERS(ORDER_ID),
    FOREIGN KEY (SKU) REFERENCES PRODUCTS(SKU),
    PRIMARY KEY (ORDER_ID)
);

INSERT INTO POSTAL_CODE
VALUES
(400081, "Mumbai", "Maharashtra", "IN"),
(560085, "Bengaluru", "Karnataka", "IN" ),
(410210, "Navi Mumbai", "Maharashtra", "IN");

INSERT INTO ORDERS 
VALUES
("405-8078784-5731545", "2022-04-30", "Cancelled", "Merchant", "Standard", 400081, "No", "B2C"),
("171-9198151-1101146", "2022-04-30", "Shipped - Delivered to Buyer", "Merchant", "Standard", 560085, "Yes", "B2C"),
("404-0687676-7273146", "2022-04-30", "Shipped", "Amazon", "Expedited", 410210, "Yes", "B2B");

INSERT INTO PRODUCTS
VALUES
("SET389-KR-NP-S", "SET389", "Set", "S", "B09KXVBD7Z"),
("JNE3781-KR-XXXL", "JNE3781", "Kurta", "3XL", "B09K3WFS32"),
("JNE3371-KR-XL", "JNE3371", "Kurta", "XL", "B07WV4JV4D");

INSERT INTO ORDER_ITEMS
VALUES
("405-8078784-5731545", "SET389-KR-NP-S", 0, 0, "Cancelled" ),
("171-9198151-1101146","JNE3781-KR-XXXL", 1, 408.00, "Shipped"),
("404-0687676-7273146", "JNE3371-KR-XL", 1, 329, "Shipped" );

SELECT * FROM POSTAL_CODE;
SELECT * FROM ORDERS;
SELECT * FROM PRODUCTS;
SELECT * FROM ORDER_ITEMS;